(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{132:function(e,t,n){e.exports=n(183)},137:function(e,t,n){},183:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),i=n.n(c),o=(n(137),n(84)),l=n(9),u=n(85),s=n.n(u),m=n(109),d=n(86),f=n.n(d);f.a.initializeApp({apiKey:"AIzaSyBlc-9cBQVLLXdLxYfVpgh8I3iFALoQ7E0",authDomain:"todo-2ac34.firebaseapp.com",databaseURL:"https://todo-2ac34.firebaseio.com",projectId:"todo-2ac34",storageBucket:"todo-2ac34.appspot.com",messagingSenderId:"144767486267",appId:"1:144767486267:web:53c6a77d36c83e42db4f1e"});var p=f.a,E=n(16),g=r.a.createContext(),h=function(e){var t=e.children,n=Object(a.useState)(null),c=Object(E.a)(n,2),i=c[0],o=c[1],l=Object(a.useState)(!0),u=Object(E.a)(l,2),s=u[0],m=u[1];return Object(a.useEffect)((function(){p.auth().onAuthStateChanged((function(e){o(e),m(!1)}))}),[]),s?r.a.createElement(r.a.Fragment,null,"Loading..."):r.a.createElement(g.Provider,{value:{currentUser:i}},t)},b=n(231),v=n(220),O=n(27),j=n.n(O),y=n(219),x=n(218),w=j()((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),k=Object(l.g)((function(e){var t=e.history,n=w(),c=Object(a.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(n){var a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=n.target.elements,r=a.email,c=a.password,e.prev=2,e.next=5,p.auth().signInWithEmailAndPassword(r.value,c.value);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(a.useContext)(g).currentUser?r.a.createElement(l.a,{to:"/"}):r.a.createElement(x.a,{component:"main",maxWidth:"xs"},r.a.createElement(y.a,null),r.a.createElement("div",{className:n.paper},r.a.createElement("form",{className:n.form,noValidate:!0,onSubmit:c},r.a.createElement(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(v.a,{type:"submit",fullWidth:!0,variant:"contained",className:n.submit,color:"primary"},"Sign In"))))})),C=n(122),S=function(e){var t=e.component,n=Object(C.a)(e,["component"]),c=Object(a.useContext)(g).currentUser;return r.a.createElement(l.b,Object.assign({},n,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(l.a,{to:"/login"})}}))},D=n(41),I=(n(173),function(e){return p.firestore().collection("todoLists").doc(e).get().then((function(e){return e.data().tasks}))}),N=function(e,t){return p.firestore().collection("todoLists").doc(e).set({tasks:t}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error updating/creating document: ",e)}))},T=n(227),L=n(188),F=n(224),W=n(234),B=n(89),A=n(113),V=n.n(A),P=n(226),U=n(116),q=n.n(U),R=n(230),z=n(232),J=n(221),K=function(e){var t=e.value,n=e.id,c=e.updateItemTitle,i=Object(a.useState)(t),o=Object(E.a)(i,2),l=o[0],u=o[1],s=Object(a.useState)(!1),m=Object(E.a)(s,2),d=m[0],f=m[1],p=Object(a.useState)(!1),g=Object(E.a)(p,2),h=g[0],v=g[1],O=Object(a.useState)(""),y=Object(E.a)(O,2),x=y[0],w=y[1],k=j()({textView:{width:"80%",cursor:"pointer",display:d?"none":""},inputView:{width:"80%",display:d?"":"none"}})(),C=Object(a.useRef)(null),S=function(){l.length>0?(f(!1),c(l,n),v(!1),w("")):(v(!0),w("Denne kan ikke v\xe6re tom"))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{variant:"body1",className:k.textView,onClick:function(){setTimeout((function(){C.current.focus()}),100),f(!0)}},l),r.a.createElement(b.a,{className:k.inputView,variant:"standard",defaultValue:l,inputRef:C,required:!0,error:h,helperText:x,onKeyDown:function(e){"Enter"===e.key&&S()},onBlur:S,onChange:function(e){u(e.target.value)}}))},M=n(115),Q=n.n(M),G=n(233),H=n(228),X=n(229),Y=n(222),$=n(223),Z=n(114),_=n.n(Z),ee=n(225),te=n(121),ne=j()((function(e){return{root:{backgroundColor:e.palette.primary},title:{flexGrow:1,cursor:"pointer"}}})),ae=function(){var e=Object(l.f)(),t=ne(),n=Object(a.useContext)(g).currentUser,c=Object(a.useState)(null),i=Object(E.a)(c,2),o=i[0],u=i[1];return r.a.createElement(Y.a,{position:"static",className:t.root},r.a.createElement($.a,null,r.a.createElement(J.a,{variant:"h6",className:t.title,onClick:function(){e.push("/")}},"TODOAPP"),!n&&r.a.createElement(v.a,{color:"inherit"},"Login"),!!n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{className:t.menuButton,color:"inherit","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)}},r.a.createElement(_.a,null)),r.a.createElement(te.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:!!o,onClose:function(){u(null)}},r.a.createElement("div",{style:{padding:"8px"}},r.a.createElement(J.a,{variant:"h6"},"Signed in as: ",n.email," ")),r.a.createElement(ee.a,{onClick:function(){e.push("/done")}},"Show done items"),r.a.createElement(ee.a,{onClick:function(){return p.auth().signOut()}},"Log out")))))},re=j()((function(e){return{root:{margin:e.spacing(1),listStyleType:"none",display:"flex",justifyContent:"center"},card:{width:"800px",minWidth:"300px"},input:{marginLeft:e.spacing(1),marginBottom:e.spacing(1),padding:e.spacing(1),flex:1},inputfield:{}}})),ce=function(){var e=Object(a.useState)(""),t=Object(E.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),o=Object(E.a)(i,2),l=o[0],u=o[1],s=Object(a.useState)(!1),m=Object(E.a)(s,2),d=m[0],f=m[1],p=Object(a.useContext)(g).currentUser,h=Object(a.useState)(!0),b=Object(E.a)(h,2),v=b[0],O=b[1],j=re();Object(a.useEffect)((function(){f(!0),I(p.email).then((function(e){u(e)})).catch((function(e){console.log("Failed to load todo-list",e)})).finally((function(){f(!1)}))}),[p.email]),Object(a.useEffect)((function(){v||(N(p.email,l),O(!0))}),[l,v,p.email]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,null),r.a.createElement("div",{className:j.root},r.a.createElement("div",{className:j.card},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={itemTitle:n,id:Object(z.a)(),isFavorite:!1,isDone:!1};u([].concat(Object(D.a)(l),[t])),c(""),O(!1)}},r.a.createElement(W.a,{className:j.input,variant:"standard",fullWidth:!0,required:!0,placeholder:"Legg til en oppgave",value:n,onChange:function(e){return c(e.currentTarget.value)}})),r.a.createElement(B.Container,{onDrop:function(e){var t=e.removedIndex,n=e.addedIndex;e.payload,e.element;console.log(t),console.log(n);var a=l.filter((function(e){return!e.isDone})),r=l.findIndex((function(e){return e.id===a[t].id})),c=l.findIndex((function(e){return e.id===a[n].id}));console.log(r),console.log(c),u((function(e){return V()(e,r,c)})),O(!1)},getChildPayload:function(e){return l[e]},dragHandleSelector:".drag-handle",lockAxis:"y",dropPlaceholder:{animationDuration:150,showOnTop:!0,className:"cards-drop-preview"}},l&&l.filter((function(e){return!e.isDone})).map((function(e){var t=e.id,n=e.isFavorite,a=e.itemTitle;return r.a.createElement(B.Draggable,{key:t},r.a.createElement(L.a,{style:{height:"3rem"}},r.a.createElement(P.a,null,r.a.createElement(F.a,{onClick:function(e){return function(e,t){t.preventDefault();var n=l.find((function(t){return t.id===e}));n.isDone=!n.isDone,u(Object(D.a)(l)),O(!1)}(t,e)}},r.a.createElement(Q.a,null))),r.a.createElement(K,{value:a,id:t,updateItemTitle:function(e,t){return function(e,t){l.find((function(e){return e.id===t})).itemTitle=e,u(Object(D.a)(l)),O(!1)}(e,t)}}),r.a.createElement(T.a,null,r.a.createElement(P.a,null,r.a.createElement(G.a,{checked:n,icon:r.a.createElement(H.a,null),checkedIcon:r.a.createElement(X.a,null),onClick:function(e){return function(e,t){t.preventDefault();var n=l.find((function(t){return t.id===e}));n.isFavorite=!n.isFavorite,u(Object(D.a)(l)),O(!1)}(t,e)},name:"checked"})),r.a.createElement(P.a,{style:{minWidth:"0"},className:"drag-handle"},r.a.createElement(q.a,null)))),r.a.createElement(R.a,null))}))),d&&r.a.createElement("pre",null,"fetching data ..."))))},ie=n(120),oe=n(217),le=n(119),ue=n.n(le),se=n(118),me=n.n(se),de=n(117),fe=n.n(de),pe=j()((function(e){return{root:{margin:e.spacing(1),listStyleType:"none",display:"flex",justifyContent:"center"},card:{width:"800px",minWidth:"300px"},input:{marginLeft:e.spacing(1),marginBottom:e.spacing(1),padding:e.spacing(1),flex:1},actionLine:{padding:"5px"}}})),Ee=function(){var e=Object(a.useState)([]),t=Object(E.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),o=Object(E.a)(i,2),u=o[0],s=o[1],m=Object(a.useContext)(g).currentUser,d=Object(a.useState)(!0),f=Object(E.a)(d,2),p=f[0],h=f[1],b=pe(),v=Object(l.f)();Object(a.useEffect)((function(){s(!0),I(m.email).then((function(e){c(e)})).catch((function(e){console.log("Failed to load todo-list",e)})).finally((function(){s(!1)}))}),[m.email]),Object(a.useEffect)((function(){p||(N(m.email,n),h(!0))}),[n,p,m.email]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,null),r.a.createElement("div",{className:b.root},r.a.createElement("div",{className:b.card},r.a.createElement("div",{className:b.actionLine},r.a.createElement(F.a,{onClick:function(){v.push("/")}},r.a.createElement(fe.a,null))),n&&n.filter((function(e){return e.isDone})).map((function(e){var t=e.id,a=e.itemTitle;return r.a.createElement(L.a,{key:t,style:{height:"3rem"}},r.a.createElement(P.a,null,r.a.createElement(F.a,{onClick:function(e){return function(e,t){t.preventDefault();var a=n.find((function(t){return t.id===e}));a.isDone=!a.isDone,c(Object(D.a)(n)),h(!1)}(t,e)}},r.a.createElement(me.a,null))),r.a.createElement(J.a,{variant:"body1",style:{textDecoration:"line-through"}},a),r.a.createElement(T.a,null,r.a.createElement(P.a,null,r.a.createElement(F.a,{onClick:function(e){return function(e,t){t.preventDefault(),n.splice(n.findIndex((function(t){return t.id===e})),1),c(Object(D.a)(n)),h(!1)}(t,e)}},r.a.createElement(ue.a,null)))))})),u&&r.a.createElement("pre",null,"fetching data ..."))))},ge=Object(ie.a)({palette:{primary:{main:"#494D5F"},secondary:{main:"#8458B3"}}}),he=function(){return r.a.createElement(oe.a,{theme:ge},r.a.createElement(h,null,r.a.createElement(o.a,null,r.a.createElement(S,{exact:!0,path:"/",component:ce}),r.a.createElement(l.b,{exact:!0,path:"/done",component:Ee}),r.a.createElement(l.b,{exact:!0,path:"/login",component:k}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[132,1,2]]]);
//# sourceMappingURL=main.36dba4b7.chunk.js.map