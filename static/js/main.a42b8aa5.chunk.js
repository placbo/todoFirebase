(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{118:function(e,t,a){e.exports=a(169)},123:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=(a(123),a(74)),l=a(11),u=a(75),s=a.n(u),m=a(99),d=a(76),p=a.n(d);p.a.initializeApp({apiKey:"AIzaSyBlc-9cBQVLLXdLxYfVpgh8I3iFALoQ7E0",authDomain:"todo-2ac34.firebaseapp.com",databaseURL:"https://todo-2ac34.firebaseio.com",projectId:"todo-2ac34",storageBucket:"todo-2ac34.appspot.com",messagingSenderId:"144767486267",appId:"1:144767486267:web:53c6a77d36c83e42db4f1e"});var f=p.a,g=a(24),b=r.a.createContext(),h=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(g.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(!0),u=Object(g.a)(l,2),s=u[0],m=u[1];return Object(n.useEffect)((function(){f.auth().onAuthStateChanged((function(e){i(e),m(!1)}))}),[]),s?r.a.createElement(r.a.Fragment,null,"Loading..."):r.a.createElement(b.Provider,{value:{currentUser:o}},t)},E=a(215),v=a(205),j=a(30),O=a.n(j),w=a(204),x=a(203),y=O()((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),S=Object(l.f)((function(e){var t=e.history,a=y(),c=Object(n.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(a){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=a.target.elements,r=n.email,c=n.password,e.prev=2,e.next=5,f.auth().signInWithEmailAndPassword(r.value,c.value);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(n.useContext)(b).currentUser?r.a.createElement(l.a,{to:"/"}):r.a.createElement(x.a,{component:"main",maxWidth:"xs"},r.a.createElement(w.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement("form",{className:a.form,noValidate:!0,onSubmit:c},r.a.createElement(E.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(E.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(v.a,{type:"submit",fullWidth:!0,variant:"contained",className:a.submit,color:"primary"},"Sign In"))))})),k=a(107),C=function(e){var t=e.component,a=Object(k.a)(e,["component"]),c=Object(n.useContext)(b).currentUser;return r.a.createElement(l.b,Object.assign({},a,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(l.a,{to:"/login"})}}))},N=a(68),I=(a(159),a(209)),D=a(208),L=a(104),T=a.n(L),W=a(211),B=a(217),V=a(79),A=a(103),F=a.n(A),U=a(210),q=a(105),P=a.n(q),R=a(212),z=a(216),G=a(206),J=function(e){var t=e.value,a=e.index,c=e.updateItemTitle,o=Object(n.useState)(t),i=Object(g.a)(o,2),l=i[0],u=i[1],s=Object(n.useState)(!1),m=Object(g.a)(s,2),d=m[0],p=m[1],f=O()({textView:{width:"80%",cursor:"pointer",display:d?"none":""},inputView:{width:"80%",display:d?"":"none"}})(),b=Object(n.useRef)(null);Object(n.useEffect)((function(){}),[d]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{variant:"body1",className:f.textView,onClick:function(){setTimeout((function(){b.current.focus()}),100),p(!0)}},l),r.a.createElement(E.a,{className:f.inputView,variant:"standard",defaultValue:l,inputRef:b,required:!0,onKeyDown:function(e){"Enter"===e.key&&(p(!1),c(l,a))},onBlur:function(){p(!1),c(l,a)},onChange:function(e){u(e.target.value)}}))},K=a(207),Q=O()((function(e){return{root:{margin:e.spacing(1),listStyleType:"none",display:"flex",justifyContent:"center"},pcb:{color:"red"},card:{width:"800px",minWidth:"300px"},input:{marginLeft:e.spacing(1),marginBottom:e.spacing(1),padding:e.spacing(1),flex:1},inputfield:{}}})),H=function(){var e=Object(n.useState)(""),t=Object(g.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),i=Object(g.a)(o,2),l=i[0],u=i[1],s=Object(n.useState)(!1),m=Object(g.a)(s,2),d=m[0],p=m[1],h=Object(n.useContext)(b).currentUser,E=Object(n.useState)(!0),v=Object(g.a)(E,2),j=v[0],O=v[1],w=Q();Object(n.useEffect)((function(){var e;p(!0),(e=h.email,f.firestore().collection("todoLists").doc(e).get().then((function(e){return e.data().tasks}))).then((function(e){u(e)})).catch((function(e){console.log("Failed to load todo-list",e)})).finally((function(){p(!1)}))}),[h.email]),Object(n.useEffect)((function(){var e,t;j||(e=h.email,t=l,f.firestore().collection("todoLists").doc(e).set({tasks:t}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error updating/creating document: ",e)})),O(!0))}),[l,j,h.email]);return r.a.createElement("div",{className:w.root},r.a.createElement(K.a,{className:w.card},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={itemTitle:a,id:Object(z.a)(),favorite:!1,done:!1};u([].concat(Object(N.a)(l),[t])),c(""),O(!1)}},r.a.createElement(B.a,{className:w.input,variant:"standard",fullWidth:!0,required:!0,placeholder:"Legg til en oppgave",value:a,onChange:function(e){return c(e.currentTarget.value)}})),r.a.createElement(V.Container,{onDrop:function(e){var t=e.removedIndex,a=e.addedIndex;u((function(e){return F()(e,t,a)})),O(!1)},dragHandleSelector:".drag-handle",lockAxis:"y",dropPlaceholder:{animationDuration:150,showOnTop:!0,className:"cards-drop-preview"}},l&&l.map((function(e,t){var a=e.id,n=e.itemTitle;return r.a.createElement(V.Draggable,{key:a},r.a.createElement(D.a,{style:{height:"3rem"}},r.a.createElement(J,{value:n,index:t,updateItemTitle:function(e,t){return function(e,t){l[t].itemTitle=e,u(Object(N.a)(l)),O(!1)}(e,t)}}),r.a.createElement(I.a,null,r.a.createElement(U.a,null,r.a.createElement(W.a,{onClick:function(e){return function(e,t){t.preventDefault(),l.splice(e,1),u(Object(N.a)(l)),O(!1)}(t,e)}},r.a.createElement(T.a,null))),r.a.createElement(U.a,{style:{minWidth:"0"},className:"drag-handle"},r.a.createElement(P.a,null)))),r.a.createElement(R.a,null))}))),d&&r.a.createElement("pre",null,"fetching data ...")))},M=a(213),X=a(214),Y=O()((function(e){return{root:{backgroundColor:e.palette.primary},title:{flexGrow:1},userName:{flexGrow:1}}})),$=function(){var e=Y(),t=Object(n.useContext)(b).currentUser;return r.a.createElement(M.a,{position:"static",className:e.root},r.a.createElement(X.a,null,!t&&r.a.createElement(v.a,{color:"inherit"},"Login"),!!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{className:e.userName,variant:"h6"},t.email," "),r.a.createElement(v.a,{color:"inherit",onClick:function(){return f.auth().signOut()}},"Sign out"))))},Z=a(106),_=a(202),ee=Object(Z.a)({palette:{primary:{main:"#494D5F"},secondary:{main:"#8458B3"}}}),te=function(){return r.a.createElement(_.a,{theme:ee},r.a.createElement(h,null,r.a.createElement($,null),r.a.createElement(i.a,null,r.a.createElement(C,{exact:!0,path:"/",component:H}),r.a.createElement(l.b,{exact:!0,path:"/login",component:S}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[118,1,2]]]);
//# sourceMappingURL=main.a42b8aa5.chunk.js.map