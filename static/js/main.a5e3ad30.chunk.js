(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{129:function(e,t,n){e.exports=n(179)},134:function(e,t,n){},179:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(10),i=n.n(r),l=(n(134),n(86)),o=n(9),u=n(16),m=n(60),s=n.n(m);s.a.initializeApp({apiKey:"AIzaSyBlc-9cBQVLLXdLxYfVpgh8I3iFALoQ7E0",authDomain:"todo-2ac34.firebaseapp.com",databaseURL:"https://todo-2ac34.firebaseio.com",projectId:"todo-2ac34",storageBucket:"todo-2ac34.appspot.com",messagingSenderId:"144767486267",appId:"1:144767486267:web:53c6a77d36c83e42db4f1e"});var d=new s.a.auth.GoogleAuthProvider,f=s.a,p=c.a.createContext(),g=function(e){var t=e.children,n=Object(a.useState)(null),r=Object(u.a)(n,2),i=r[0],l=r[1],o=Object(a.useState)(!0),m=Object(u.a)(o,2),s=m[0],d=m[1];return Object(a.useEffect)((function(){f.auth().onAuthStateChanged((function(e){l(e),d(!1)}))}),[]),s?c.a.createElement(c.a.Fragment,null,"Loading..."):c.a.createElement(p.Provider,{value:{currentUser:i}},t)},E=n(217),h=n(27),b=n.n(h),O=n(216),j=n(215),v=b()((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),x=Object(o.g)((function(){var e=v();return Object(a.useContext)(p).currentUser?c.a.createElement(o.a,{to:"/"}):c.a.createElement(j.a,{component:"main",maxWidth:"xs"},c.a.createElement(O.a,null),c.a.createElement("div",{className:e.paper},c.a.createElement(E.a,{onClick:function(){s.a.auth().signInWithPopup(d)},fullWidth:!0,variant:"contained",className:e.submit,color:"primary"},"Sign In with Google")))})),y=n(120),k=function(e){var t=e.component,n=Object(y.a)(e,["component"]),r=Object(a.useContext)(p).currentUser;return c.a.createElement(o.b,Object.assign({},n,{render:function(e){return r?c.a.createElement(t,e):c.a.createElement(o.a,{to:"/login"})}}))},C=n(32),w=(n(169),function(e){return f.firestore().collection("todoLists").doc(e).get().then((function(e){return e.data().tasks}))}),S=function(e,t){return f.firestore().collection("todoLists").doc(e).set({tasks:t}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error updating/creating document: ",e)}))},D=n(225),I=n(184),N=n(221),L=n(231),T=n(89),F=n(111),A=n.n(F),B=n(224),W=n(114),U=n.n(W),P=n(222),V=n(229),R=n(218),G=n(228),q=function(e){var t=e.value,n=e.id,r=e.updateItemTitle,i=Object(a.useState)(t),l=Object(u.a)(i,2),o=l[0],m=l[1],s=Object(a.useState)(!1),d=Object(u.a)(s,2),f=d[0],p=d[1],g=Object(a.useState)(!1),E=Object(u.a)(g,2),h=E[0],O=E[1],j=Object(a.useState)(""),v=Object(u.a)(j,2),x=v[0],y=v[1],k=b()({textView:{width:"50%",textOverflow:"ellipsis",cursor:"pointer",overflow:"hidden",whiteSpace:"nowrap",display:f?"none":""},inputView:{width:"50%",display:f?"":"none"}})(),C=Object(a.useRef)(null),w=function(){o.length>0?(p(!1),r(o,n),O(!1),y("")):(O(!0),y("Denne kan ikke v\xe6re tom"))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(R.a,{variant:"body1",className:k.textView,onClick:function(){setTimeout((function(){C.current.focus()}),100),p(!0)}},o),c.a.createElement(G.a,{className:k.inputView,variant:"standard",defaultValue:o,inputRef:C,required:!0,error:h,helperText:x,onKeyDown:function(e){"Enter"===e.key&&w()},onBlur:w,onChange:function(e){m(e.target.value)}}))},z=n(113),H=n.n(z),J=n(230),K=n(226),M=n(227),Q=n(219),X=n(220),Y=n(112),Z=n.n(Y),$=n(223),_=n(119),ee=b()((function(e){return{root:{backgroundColor:e.palette.primary},title:{flexGrow:1,cursor:"pointer"},profileImage:{borderRadius:"50%",verticalAlign:"middle",maxWidth:"3rem",maxHeight:"3rem",marginRight:"1rem"}}})),te=function(){var e=Object(o.f)(),t=ee(),n=Object(a.useContext)(p).currentUser,r=Object(a.useState)(null),i=Object(u.a)(r,2),l=i[0],m=i[1];return c.a.createElement(Q.a,{position:"static",className:t.root},c.a.createElement(X.a,null,c.a.createElement(R.a,{variant:"h6",className:t.title,onClick:function(){e.push("/")}},"TODOAPP"),!n&&c.a.createElement(E.a,{color:"inherit"},"Login"),!!n&&c.a.createElement(c.a.Fragment,null,c.a.createElement(N.a,{className:t.menuButton,color:"inherit","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){m(e.currentTarget)}},c.a.createElement(Z.a,null)),c.a.createElement(_.a,{id:"simple-menu",anchorEl:l,keepMounted:!0,open:!!l,onClose:function(){m(null)}},c.a.createElement("div",{style:{padding:"8px"}},n.displayName?c.a.createElement(R.a,{variant:"h6"},c.a.createElement("img",{src:n.photoURL,alt:"Avatar",className:t.profileImage}),n.displayName," "):c.a.createElement(R.a,{variant:"h6"},"Signed in as: ",n.email," ")),c.a.createElement(P.a,null),c.a.createElement($.a,{onClick:function(){e.push("/done")}},"Show done items"),c.a.createElement($.a,{onClick:function(){f.auth().signOut(),e.push("/")}},"Log out")))))},ne=b()((function(e){return{root:{margin:e.spacing(1),listStyleType:"none",display:"flex",justifyContent:"center"},card:{width:"800px",minWidth:"300px",overflow:"hidden"},input:{marginLeft:e.spacing(1),marginBottom:e.spacing(1),padding:e.spacing(1),flex:1},inputfield:{}}})),ae=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)([]),l=Object(u.a)(i,2),o=l[0],m=l[1],s=Object(a.useState)(!1),d=Object(u.a)(s,2),f=d[0],g=d[1],E=Object(a.useContext)(p).currentUser,h=Object(a.useState)(!0),b=Object(u.a)(h,2),O=b[0],j=b[1],v=ne();Object(a.useEffect)((function(){g(!0),w(E.email).then((function(e){m(e)})).catch((function(e){console.log("Failed to load todo-list",e)})).finally((function(){g(!1)}))}),[E.email]),Object(a.useEffect)((function(){O||(S(E.email,o),j(!0))}),[o,O,E.email]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(te,null),c.a.createElement("div",{className:v.root},c.a.createElement("div",{className:v.card},c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={itemTitle:n,id:Object(V.a)(),isFavorite:!1,isDone:!1};m([].concat(Object(C.a)(o),[t])),r(""),j(!1)}},c.a.createElement(L.a,{className:v.input,variant:"standard",fullWidth:!0,required:!0,placeholder:"Legg til en oppgave",value:n,onChange:function(e){return r(e.currentTarget.value)}})),c.a.createElement(T.Container,{onDrop:function(e){var t=e.removedIndex,n=e.addedIndex,a=o.filter((function(e){return!e.isDone})),c=o.findIndex((function(e){return e.id===a[t].id})),r=o.findIndex((function(e){return e.id===a[n].id}));m((function(e){return A()(e,c,r)})),j(!1)},getChildPayload:function(e){return o[e]},dragHandleSelector:".drag-handle",lockAxis:"y",dropPlaceholder:{animationDuration:150,showOnTop:!0,className:"cards-drop-preview"}},o&&o.filter((function(e){return!e.isDone})).map((function(e){var t=e.id,n=e.isFavorite,a=e.itemTitle;return c.a.createElement(T.Draggable,{key:t},c.a.createElement(I.a,{style:{height:"3rem",padding:"0"}},c.a.createElement(B.a,null,c.a.createElement(N.a,{onClick:function(e){return function(e,t){t.preventDefault();var n=o.find((function(t){return t.id===e}));n.isDone=!n.isDone,m(Object(C.a)(o)),j(!1)}(t,e)}},c.a.createElement(H.a,null))),c.a.createElement(q,{value:a,id:t,updateItemTitle:function(e,t){return function(e,t){o.find((function(e){return e.id===t})).itemTitle=e,m(Object(C.a)(o)),j(!1)}(e,t)}}),c.a.createElement(D.a,null,c.a.createElement(B.a,{style:{minWidth:"0"}},c.a.createElement(J.a,{checked:n,icon:c.a.createElement(K.a,null),checkedIcon:c.a.createElement(M.a,null),onClick:function(e){return function(e,t){t.preventDefault();var n=o.find((function(t){return t.id===e}));n.isFavorite=!n.isFavorite,m(Object(C.a)(o)),j(!1)}(t,e)},name:"checked"})),c.a.createElement(B.a,{className:"drag-handle",style:{minWidth:"0",padding:"1rem"}},c.a.createElement(U.a,null)))),c.a.createElement(P.a,null))}))),f&&c.a.createElement("pre",null,"fetching data ..."))))},ce=n(118),re=n(214),ie=n(117),le=n.n(ie),oe=n(116),ue=n.n(oe),me=n(115),se=n.n(me),de=b()((function(e){return{root:{margin:e.spacing(1),listStyleType:"none",display:"flex",justifyContent:"center"},card:{width:"800px",minWidth:"300px"},input:{marginLeft:e.spacing(1),marginBottom:e.spacing(1),padding:e.spacing(1),flex:1},actionLine:{padding:"5px",display:"flex",justifyContent:"space-between"},deleteAllButton:{}}})),fe=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),l=Object(u.a)(i,2),m=l[0],s=l[1],d=Object(a.useContext)(p).currentUser,f=Object(a.useState)(!0),g=Object(u.a)(f,2),h=g[0],b=g[1],O=de(),j=Object(o.f)();Object(a.useEffect)((function(){s(!0),w(d.email).then((function(e){r(e)})).catch((function(e){console.log("Failed to load todo-list",e)})).finally((function(){s(!1)}))}),[d.email]),Object(a.useEffect)((function(){h||(S(d.email,n),b(!0))}),[n,h,d.email]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(te,null),c.a.createElement("div",{className:O.root},c.a.createElement("div",{className:O.card},c.a.createElement("div",{className:O.actionLine},c.a.createElement(N.a,{onClick:function(){j.push("/")}},c.a.createElement(se.a,null)),c.a.createElement(E.a,{onClick:function(e){for(var t=n.reduce((function(e,t,n){return t.isDone&&e.push(n),e}),[]);t.length;)n.splice(t.pop(),1);r(Object(C.a)(n)),b(!1)},className:O.deleteAllButton},"Delete all")),n&&n.filter((function(e){return e.isDone})).map((function(e){var t=e.id,a=e.itemTitle;return c.a.createElement(I.a,{key:t,style:{height:"3rem"}},c.a.createElement(B.a,null,c.a.createElement(N.a,{onClick:function(e){return function(e,t){t.preventDefault();var a=n.find((function(t){return t.id===e}));a.isDone=!a.isDone,r(Object(C.a)(n)),b(!1)}(t,e)}},c.a.createElement(ue.a,null))),c.a.createElement(R.a,{variant:"body1",style:{textDecoration:"line-through"}},a),c.a.createElement(D.a,null,c.a.createElement(B.a,null,c.a.createElement(N.a,{onClick:function(e){return function(e,t){n.splice(n.findIndex((function(t){return t.id===e})),1),r(Object(C.a)(n)),b(!1)}(t)}},c.a.createElement(le.a,null)))))})),m&&c.a.createElement("pre",null,"fetching data ..."))))},pe=Object(ce.a)({palette:{primary:{main:"#494D5F"},secondary:{main:"#8458B3"}}}),ge=function(){return c.a.createElement(re.a,{theme:pe},c.a.createElement(g,null,c.a.createElement(l.a,null,c.a.createElement(k,{exact:!0,path:"/",component:ae}),c.a.createElement(o.b,{exact:!0,path:"/done",component:fe}),c.a.createElement(o.b,{exact:!0,path:"/login",component:x}))))};i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(ge,null)),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.a5e3ad30.chunk.js.map