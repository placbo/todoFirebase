(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{132:function(e,t,n){e.exports=n(183)},137:function(e,t,n){},183:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),i=n.n(c),l=(n(137),n(86)),o=n(9),u=n(87),s=n.n(u),m=n(109),d=n(60),f=n.n(d);f.a.initializeApp({apiKey:"AIzaSyBlc-9cBQVLLXdLxYfVpgh8I3iFALoQ7E0",authDomain:"todo-2ac34.firebaseapp.com",databaseURL:"https://todo-2ac34.firebaseio.com",projectId:"todo-2ac34",storageBucket:"todo-2ac34.appspot.com",messagingSenderId:"144767486267",appId:"1:144767486267:web:53c6a77d36c83e42db4f1e"});var p=new f.a.auth.GoogleAuthProvider,h=f.a,g=n(16),E=r.a.createContext(),b=function(e){var t=e.children,n=Object(a.useState)(null),c=Object(g.a)(n,2),i=c[0],l=c[1],o=Object(a.useState)(!0),u=Object(g.a)(o,2),s=u[0],m=u[1];return Object(a.useEffect)((function(){h.auth().onAuthStateChanged((function(e){l(e),m(!1)}))}),[]),s?r.a.createElement(r.a.Fragment,null,"Loading..."):r.a.createElement(E.Provider,{value:{currentUser:i}},t)},v=n(231),j=n(220),O=n(27),y=n.n(O),x=n(219),w=n(218),k=n(221),C=y()((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),S=Object(o.g)((function(e){var t=e.history,n=C(),c=Object(a.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(n){var a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=n.target.elements,r=a.email,c=a.password,e.prev=2,e.next=5,h.auth().signInWithEmailAndPassword(r.value,c.value);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(a.useContext)(E).currentUser?r.a.createElement(o.a,{to:"/"}):r.a.createElement(w.a,{component:"main",maxWidth:"xs"},r.a.createElement(x.a,null),r.a.createElement("div",{className:n.paper},r.a.createElement("form",{className:n.form,noValidate:!0,onSubmit:c},r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(j.a,{type:"submit",fullWidth:!0,variant:"contained",className:n.submit,color:"primary"},"Sign In")),r.a.createElement(k.a,{variant:"body1"},"or"),r.a.createElement(j.a,{onClick:function(){f.a.auth().signInWithPopup(p)},fullWidth:!0,variant:"contained",className:n.submit,color:"primary"},"Sign In with Google")))})),D=n(122),I=function(e){var t=e.component,n=Object(D.a)(e,["component"]),c=Object(a.useContext)(E).currentUser;return r.a.createElement(o.b,Object.assign({},n,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}}))},N=n(32),L=(n(173),function(e){return h.firestore().collection("todoLists").doc(e).get().then((function(e){return e.data().tasks}))}),T=function(e,t){return h.firestore().collection("todoLists").doc(e).set({tasks:t}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error updating/creating document: ",e)}))},W=n(228),F=n(188),A=n(224),B=n(234),P=n(90),U=n(113),V=n.n(U),R=n(227),q=n(116),G=n.n(q),z=n(225),H=n(232),J=function(e){var t=e.value,n=e.id,c=e.updateItemTitle,i=Object(a.useState)(t),l=Object(g.a)(i,2),o=l[0],u=l[1],s=Object(a.useState)(!1),m=Object(g.a)(s,2),d=m[0],f=m[1],p=Object(a.useState)(!1),h=Object(g.a)(p,2),E=h[0],b=h[1],j=Object(a.useState)(""),O=Object(g.a)(j,2),x=O[0],w=O[1],C=y()({textView:{width:"80%",cursor:"pointer",display:d?"none":""},inputView:{width:"80%",display:d?"":"none"}})(),S=Object(a.useRef)(null),D=function(){o.length>0?(f(!1),c(o,n),b(!1),w("")):(b(!0),w("Denne kan ikke v\xe6re tom"))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{variant:"body1",className:C.textView,onClick:function(){setTimeout((function(){S.current.focus()}),100),f(!0)}},o),r.a.createElement(v.a,{className:C.inputView,variant:"standard",defaultValue:o,inputRef:S,required:!0,error:E,helperText:x,onKeyDown:function(e){"Enter"===e.key&&D()},onBlur:D,onChange:function(e){u(e.target.value)}}))},K=n(115),M=n.n(K),Q=n(233),X=n(229),Y=n(230),$=n(222),Z=n(223),_=n(114),ee=n.n(_),te=n(226),ne=n(121),ae=y()((function(e){return{root:{backgroundColor:e.palette.primary},title:{flexGrow:1,cursor:"pointer"},profileImage:{borderRadius:"50%",verticalAlign:"middle",maxWidth:"3rem",maxHeight:"3rem",marginRight:"1rem"}}})),re=function(){var e=Object(o.f)(),t=ae(),n=Object(a.useContext)(E).currentUser,c=Object(a.useState)(null),i=Object(g.a)(c,2),l=i[0],u=i[1];return r.a.createElement($.a,{position:"static",className:t.root},r.a.createElement(Z.a,null,r.a.createElement(k.a,{variant:"h6",className:t.title,onClick:function(){e.push("/")}},"TODOAPP"),!n&&r.a.createElement(j.a,{color:"inherit"},"Login"),!!n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{className:t.menuButton,color:"inherit","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)}},r.a.createElement(ee.a,null)),r.a.createElement(ne.a,{id:"simple-menu",anchorEl:l,keepMounted:!0,open:!!l,onClose:function(){u(null)}},r.a.createElement("div",{style:{padding:"8px"}},n.displayName?r.a.createElement(k.a,{variant:"h6"},r.a.createElement("img",{src:n.photoURL,alt:"Avatar",className:t.profileImage}),n.displayName," "):r.a.createElement(k.a,{variant:"h6"},"Signed in as: ",n.email," ")),r.a.createElement(z.a,null),r.a.createElement(te.a,{onClick:function(){e.push("/done")}},"Show done items"),r.a.createElement(te.a,{onClick:function(){h.auth().signOut(),e.push("/")}},"Log out")))))},ce=y()((function(e){return{root:{margin:e.spacing(1),listStyleType:"none",display:"flex",justifyContent:"center"},card:{width:"800px",minWidth:"300px"},input:{marginLeft:e.spacing(1),marginBottom:e.spacing(1),padding:e.spacing(1),flex:1},inputfield:{}}})),ie=function(){var e=Object(a.useState)(""),t=Object(g.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),l=Object(g.a)(i,2),o=l[0],u=l[1],s=Object(a.useState)(!1),m=Object(g.a)(s,2),d=m[0],f=m[1],p=Object(a.useContext)(E).currentUser,h=Object(a.useState)(!0),b=Object(g.a)(h,2),v=b[0],j=b[1],O=ce();Object(a.useEffect)((function(){f(!0),L(p.email).then((function(e){u(e)})).catch((function(e){console.log("Failed to load todo-list",e)})).finally((function(){f(!1)}))}),[p.email]),Object(a.useEffect)((function(){v||(T(p.email,o),j(!0))}),[o,v,p.email]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(re,null),r.a.createElement("div",{className:O.root},r.a.createElement("div",{className:O.card},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={itemTitle:n,id:Object(H.a)(),isFavorite:!1,isDone:!1};u([].concat(Object(N.a)(o),[t])),c(""),j(!1)}},r.a.createElement(B.a,{className:O.input,variant:"standard",fullWidth:!0,required:!0,placeholder:"Legg til en oppgave",value:n,onChange:function(e){return c(e.currentTarget.value)}})),r.a.createElement(P.Container,{onDrop:function(e){var t=e.removedIndex,n=e.addedIndex,a=o.filter((function(e){return!e.isDone})),r=o.findIndex((function(e){return e.id===a[t].id})),c=o.findIndex((function(e){return e.id===a[n].id}));u((function(e){return V()(e,r,c)})),j(!1)},getChildPayload:function(e){return o[e]},dragHandleSelector:".drag-handle",lockAxis:"y",dropPlaceholder:{animationDuration:150,showOnTop:!0,className:"cards-drop-preview"}},o&&o.filter((function(e){return!e.isDone})).map((function(e){var t=e.id,n=e.isFavorite,a=e.itemTitle;return r.a.createElement(P.Draggable,{key:t},r.a.createElement(F.a,{style:{height:"3rem"}},r.a.createElement(R.a,null,r.a.createElement(A.a,{onClick:function(e){return function(e,t){t.preventDefault();var n=o.find((function(t){return t.id===e}));n.isDone=!n.isDone,u(Object(N.a)(o)),j(!1)}(t,e)}},r.a.createElement(M.a,null))),r.a.createElement(J,{value:a,id:t,updateItemTitle:function(e,t){return function(e,t){o.find((function(e){return e.id===t})).itemTitle=e,u(Object(N.a)(o)),j(!1)}(e,t)}}),r.a.createElement(W.a,null,r.a.createElement(R.a,{style:{minWidth:"0"}},r.a.createElement(Q.a,{checked:n,icon:r.a.createElement(X.a,null),checkedIcon:r.a.createElement(Y.a,null),onClick:function(e){return function(e,t){t.preventDefault();var n=o.find((function(t){return t.id===e}));n.isFavorite=!n.isFavorite,u(Object(N.a)(o)),j(!1)}(t,e)},name:"checked"})),r.a.createElement(R.a,{className:"drag-handle",style:{minWidth:"0",padding:"1rem"}},r.a.createElement(G.a,null)))),r.a.createElement(z.a,null))}))),d&&r.a.createElement("pre",null,"fetching data ..."))))},le=n(120),oe=n(217),ue=n(119),se=n.n(ue),me=n(118),de=n.n(me),fe=n(117),pe=n.n(fe),he=y()((function(e){return{root:{margin:e.spacing(1),listStyleType:"none",display:"flex",justifyContent:"center"},card:{width:"800px",minWidth:"300px"},input:{marginLeft:e.spacing(1),marginBottom:e.spacing(1),padding:e.spacing(1),flex:1},actionLine:{padding:"5px",display:"flex",justifyContent:"space-between"},deleteAllButton:{}}})),ge=function(){var e=Object(a.useState)([]),t=Object(g.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),l=Object(g.a)(i,2),u=l[0],s=l[1],m=Object(a.useContext)(E).currentUser,d=Object(a.useState)(!0),f=Object(g.a)(d,2),p=f[0],h=f[1],b=he(),v=Object(o.f)();Object(a.useEffect)((function(){s(!0),L(m.email).then((function(e){c(e)})).catch((function(e){console.log("Failed to load todo-list",e)})).finally((function(){s(!1)}))}),[m.email]),Object(a.useEffect)((function(){p||(T(m.email,n),h(!0))}),[n,p,m.email]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(re,null),r.a.createElement("div",{className:b.root},r.a.createElement("div",{className:b.card},r.a.createElement("div",{className:b.actionLine},r.a.createElement(A.a,{onClick:function(){v.push("/")}},r.a.createElement(pe.a,null)),r.a.createElement(j.a,{onClick:function(e){for(var t=n.reduce((function(e,t,n){return t.isDone&&e.push(n),e}),[]);t.length;)n.splice(t.pop(),1);c(Object(N.a)(n)),h(!1)},className:b.deleteAllButton},"Delete all")),n&&n.filter((function(e){return e.isDone})).map((function(e){var t=e.id,a=e.itemTitle;return r.a.createElement(F.a,{key:t,style:{height:"3rem"}},r.a.createElement(R.a,null,r.a.createElement(A.a,{onClick:function(e){return function(e,t){t.preventDefault();var a=n.find((function(t){return t.id===e}));a.isDone=!a.isDone,c(Object(N.a)(n)),h(!1)}(t,e)}},r.a.createElement(de.a,null))),r.a.createElement(k.a,{variant:"body1",style:{textDecoration:"line-through"}},a),r.a.createElement(W.a,null,r.a.createElement(R.a,null,r.a.createElement(A.a,{onClick:function(e){return function(e,t){n.splice(n.findIndex((function(t){return t.id===e})),1),c(Object(N.a)(n)),h(!1)}(t)}},r.a.createElement(se.a,null)))))})),u&&r.a.createElement("pre",null,"fetching data ..."))))},Ee=Object(le.a)({palette:{primary:{main:"#494D5F"},secondary:{main:"#8458B3"}}}),be=function(){return r.a.createElement(oe.a,{theme:Ee},r.a.createElement(b,null,r.a.createElement(l.a,null,r.a.createElement(I,{exact:!0,path:"/",component:ie}),r.a.createElement(o.b,{exact:!0,path:"/done",component:ge}),r.a.createElement(o.b,{exact:!0,path:"/login",component:S}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[132,1,2]]]);
//# sourceMappingURL=main.c961bc2b.chunk.js.map