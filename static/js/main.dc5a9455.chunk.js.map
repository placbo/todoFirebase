{"version":3,"sources":["firebase.js","Auth.js","Login.js","PrivateRoute.js","EditableTextField.js","MainPage.js","api.js","AppHeader.js","TestPage.js","App.js","serviceWorker.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","AuthContext","React","createContext","AuthProvider","children","useState","currentUser","setCurrentUser","pending","setPending","useEffect","email","Provider","value","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","form","width","submit","margin","withRouter","history","classes","handleLogin","useCallback","event","a","preventDefault","target","elements","password","app","auth","signInWithEmailAndPassword","push","alert","useContext","to","Container","component","maxWidth","CssBaseline","className","noValidate","onSubmit","TextField","variant","required","fullWidth","id","label","name","autoComplete","autoFocus","type","Button","color","PrivateRoute","RouteComponent","rest","render","routeProps","EditableTextField","state","editMode","handleChange","setState","handleClick","handleBlur","_handleKeyDown","e","key","this","props","onClick","onBlur","onKeyDown","defaultValue","error","onChange","disabled","textField","InputProps","Component","withStyles","opacity","borderBottom","btnIcons","marginLeft","root","listStyleType","input","marginBottom","padding","flex","inputfield","MainPage","newItemTitle","setNewItemTitle","items","setItems","waitForApi","setWaitForApi","allChangesSaved","setAllChangesSaved","Promise","resolve","reject","console","log","itemTitle","then","catch","finally","newItem","uuidv4","InputBase","placeholder","currentTarget","onDrop","removedIndex","addedIndex","arrayMove","dragHandleSelector","lockAxis","dropPlaceholder","animationDuration","showOnTop","map","index","ListItem","ListItemSecondaryAction","ListItemIcon","IconButton","splice","deleteItem","Divider","backgroundColor","palette","primary","title","flexGrow","userName","AppHeader","AppBar","position","Toolbar","Typography","signOut","TestPage","text","item","createMuiTheme","main","secondary","App","ThemeProvider","exact","path","Login","Boolean","window","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.dc5a9455.chunk.js","sourcesContent":["import firebase from \"firebase\";\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBlc-9cBQVLLXdLxYfVpgh8I3iFALoQ7E0\",\n    authDomain: \"todo-2ac34.firebaseapp.com\",\n    databaseURL: \"https://todo-2ac34.firebaseio.com\",\n    projectId: \"todo-2ac34\",\n    storageBucket: \"todo-2ac34.appspot.com\",\n    messagingSenderId: \"144767486267\",\n    appId: \"1:144767486267:web:53c6a77d36c83e42db4f1e\",\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport default firebase;\n","import React, {useEffect, useState} from \"react\";\nimport app from \"./firebase.js\";\n\nexport const AuthContext = React.createContext();\n\nexport const AuthProvider = ({children}) => {\n    const [currentUser, setCurrentUser] = useState(null);\n    const [pending, setPending] = useState(true);\n\n    useEffect(() => {\n        if (process.env.REACT_APP_USE_MOCK===\"true\") {\n            setCurrentUser({email: \"MOCKUSER\"})\n            setPending(false)\n        } else {\n            app.auth().onAuthStateChanged((user) => {\n                setCurrentUser(user)\n                setPending(false)\n            });\n        }\n    }, []);\n\n    if (pending) {\n        return <>Loading...</>\n    }\n\n    return (\n        <AuthContext.Provider\n            value={{\n                currentUser\n            }}\n        >\n            {children}\n        </AuthContext.Provider>\n    );\n};","import React, {useCallback, useContext} from \"react\";\nimport {Redirect, withRouter} from \"react-router\";\nimport app from \"./firebase.js\";\nimport {AuthContext} from \"./Auth.js\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Container from \"@material-ui/core/Container\";\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nconst Login = ({history}) => {\n    const classes = useStyles();\n\n    const handleLogin = useCallback(\n        async event => {\n            event.preventDefault();\n            const {email, password} = event.target.elements;\n            try {\n                await app\n                    .auth()\n                    .signInWithEmailAndPassword(email.value, password.value);\n                history.push(\"/\");\n            } catch (error) {\n                alert(error);\n            }\n        },\n        [history]\n    );\n\n    const {currentUser} = useContext(AuthContext);\n\n    if (currentUser) {\n        return <Redirect to=\"/\"/>;\n    }\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\">\n            <CssBaseline/>\n            <div className={classes.paper}>\n                <form className={classes.form} noValidate onSubmit={handleLogin}>\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"email\"\n                        label=\"Email Address\"\n                        name=\"email\"\n                        autoComplete=\"email\"\n                        autoFocus\n                    />\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        name=\"password\"\n                        label=\"Password\"\n                        type=\"password\"\n                        id=\"password\"\n                        autoComplete=\"current-password\"\n                    />\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        className={classes.submit}\n                        color=\"primary\"\n                    >\n                        Sign In\n                    </Button>\n                </form>\n            </div>\n\n        </Container>\n    );\n};\n\nexport default withRouter(Login);","import React, {useContext} from \"react\";\nimport {Route, Redirect} from \"react-router-dom\";\nimport {AuthContext} from \"./Auth\";\n\nconst PrivateRoute = ({component: RouteComponent, ...rest}) => {\n    const {currentUser} = useContext(AuthContext);\n    return (\n        <Route\n            {...rest}\n            render={routeProps =>\n                !!currentUser ? (\n                    <RouteComponent {...routeProps} />\n                ) : (\n                    <Redirect to={\"/login\"}/>\n                )\n            }\n        />\n    );\n};\n\n\nexport default PrivateRoute","import React from \"react\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\n\nconst styles = theme => ({\n    textField: {\n        opacity: 1,\n        borderBottom: 0,\n        \"&:before\": {\n            borderBottom: 0\n        }\n    },\n    disabled: {\n        color: \"black\",\n        borderBottom: 0,\n        \"&:before\": {\n            borderBottom: 0\n        }\n    },\n    btnIcons: {\n        marginLeft: 10\n    }\n});\n\nclass EditableTextField extends React.Component {\n    state = {\n        email: \"johndoe@domain.com\",\n        editMode: false,\n    };\n\n    handleChange = event => {\n        this.setState({[event.target.name]: event.target.value});\n    };\n\n    handleClick = () => {\n        this.setState({\n            editMode: true\n        });\n    };\n    handleBlur = () => {\n        this.setState({\n            editMode: false\n        });\n    };\n\n    _handleKeyDown = (e) => {\n        if (e.key === 'Enter') {\n            this.setState({\n                editMode: false\n            });\n        }\n    }\n\n    render() {\n        const {classes, value} = this.props;\n\n        return (\n            <TextField\n                onClick={this.handleClick}\n                onBlur={this.handleBlur}\n                onKeyDown={this._handleKeyDown}\n                defaultValue={value}\n                margin=\"normal\"\n                error={this.state.email === \"\"}\n                onChange={this.handleChange}\n                disabled={!this.state.editMode}\n                className={classes.textField}\n                InputProps={{\n                    classes: {\n                        disabled: classes.disabled\n                    }\n                }}\n            />\n        );\n    }\n}\n\nexport default withStyles(styles)(EditableTextField);\n","import React, {useContext, useEffect, useState} from \"react\";\nimport {AuthContext} from \"./Auth\";\nimport {getTodoForUser, setTodoForUser} from \"./api\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport {Container, Draggable} from \"react-smooth-dnd\";\nimport arrayMove from \"array-move\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport DragHandleIcon from \"@material-ui/icons/DragHandle\";\nimport {Divider} from \"@material-ui/core\";\nimport {v4 as uuidv4} from 'uuid';\nimport EditableTextField from \"./EditableTextField\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: theme.spacing(1),\n        listStyleType: \"none\" //hack!!\n    },\n    input: {\n        marginLeft: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n        padding: theme.spacing(1),\n        flex: 1,\n    },\n    inputfield: {},\n}));\n\n\nconst MainPage = () => {\n    const [newItemTitle, setNewItemTitle] = useState(\"\");\n    const [items, setItems] = useState([]);\n    const [waitForApi, setWaitForApi] = useState(false);\n    const {currentUser} = useContext(AuthContext);\n    const [allChangesSaved, setAllChangesSaved] = useState(true);\n    const classes = useStyles();\n\n    //Trigger (get list) on logged in user\n    useEffect(() => {\n        setWaitForApi(true);\n        getTodoForUser(currentUser.email)\n            .then((items) => {\n                setItems(items);\n            })\n            .catch((error) => {\n                console.log(\"Failed to load todo-list\", error)\n            })\n            .finally(() => {\n                setWaitForApi(false);\n            });\n    }, [currentUser.email]);\n\n    //Trigger (save list) on list change\n    useEffect(() => {\n        if (!allChangesSaved) {\n            setTodoForUser(currentUser.email, items);\n            setAllChangesSaved(true);\n        }\n    }, [items, allChangesSaved, currentUser.email]);\n\n    const addItem = (e) => {\n        e.preventDefault();\n        let newItem = {\n            \"itemTitle\": newItemTitle,\n            \"id\": uuidv4(),\n            \"favorite\": false,\n            \"done\": false,\n        };\n        setItems([...items, newItem]);\n        setNewItemTitle(\"\");\n        setAllChangesSaved(false);\n    };\n\n    const deleteItem = (index, e) => {\n        e.preventDefault();\n        items.splice(index, 1)\n        //setItems(items.slice());\n        setItems([...items]); //TODO: forstå denne\n        setAllChangesSaved(false);\n    }\n\n/*\n    const setFavorite = (id, e) => {\n        console.log(\"Setting favorite on item \", id)\n        e.preventDefault();\n        //items[index].favorite = true;\n        //TODO: LOGIKK!\n        // setItems([...items]); //TODO: forstå denne\n        // setAllChangesSaved(false);\n    }\n*/\n\n    const onDrop = ({removedIndex, addedIndex}) => {\n        setItems(items => arrayMove(items, removedIndex, addedIndex));\n        setAllChangesSaved(false);\n    };\n\n    return (\n        <div className={classes.root}>\n\n\n            <form onSubmit={addItem}>\n                <InputBase className={classes.input}\n                           variant=\"standard\"\n                           fullWidth\n                           placeholder=\"Legg til en oppgave\"\n                           value={newItemTitle}\n                           onChange={(e) => setNewItemTitle(e.currentTarget.value)}\n                />\n            </form>\n            <Container onDrop={onDrop} dragHandleSelector=\".drag-handle\" lockAxis=\"y\" dropPlaceholder={{\n                animationDuration: 150,\n                showOnTop: true,\n                className: 'cards-drop-preview'\n            }}>\n\n                {items && items.map(({id, itemTitle},index) => {\n                    return (\n                        <Draggable key={id}>\n                            <ListItem>\n                                {/*<ListItemText id={id} primary={itemTitle}/>*/}\n                                <EditableTextField value={itemTitle}></EditableTextField>\n                                <ListItemSecondaryAction>\n                                    <ListItemIcon>\n                                        <IconButton onClick={(e) => deleteItem(index, e)}>\n                                            <DeleteIcon/>\n                                        </IconButton>\n                                    </ListItemIcon>\n{/*                                    <ListItemIcon>\n                                        <Checkbox icon={<FavoriteBorder/>} checkedIcon={<Favorite/>} onClick={(e) => setFavorite(id, e)} name=\"checked\"/>\n                                    </ListItemIcon>*/}\n                                    <ListItemIcon className=\"drag-handle\">\n                                        <DragHandleIcon/>\n                                    </ListItemIcon>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider/>\n                        </Draggable>\n                    );\n                })}\n            </Container>\n\n            {waitForApi && (<pre>fetching data ...</pre>)}\n        </div>\n    );\n}\n\nexport default MainPage;\n","import firebase from \"./firebase\";\nimport \"firebase/firestore\";\n\nconst collectionName = \"todoLists\";\n\nexport const getTodoForUser = (userId) => {\n    if (process.env.REACT_APP_USE_MOCK===\"true\") {\n        return new Promise((resolve, reject) => {\n            let MOCK_DATA = [\n                {id:\"1\",itemTitle: \"TODO-item 1\"},\n                {id:\"2\",itemTitle: \"TODO-item 2\"},\n                {id:\"3\",itemTitle: \"TODO-item 3\"},\n                {id:\"4\",itemTitle: \"TODO-item 4\"},\n            ];\n            console.log(\"Mock retrieving list\")\n            resolve(MOCK_DATA);\n        });\n    }\n    return firebase\n        .firestore()\n        .collection(collectionName)\n        .doc(userId)\n        .get()\n        .then((doc) => {\n            return doc.data().tasks;\n        });\n};\n\n\nexport const setTodoForUser = (userId, tasks) => {\n    if (process.env.REACT_APP_USE_MOCK===\"true\") {\n        console.log(\"Mock saving list\")\n        return;\n    }\n    return firebase\n        .firestore()\n        .collection(collectionName)\n        .doc(userId)\n        .set({tasks: tasks})\n        .then(() => {\n            console.log(\"Document successfully written!\");\n        })\n        .catch((error) => {\n            console.error(\"Error updating/creating document: \", error);\n        });\n};\n\n\n","import React, {useContext} from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport {AuthContext} from \"./Auth\";\nimport app from \"./firebase\";\n\nconst useStyles = makeStyles((theme) => ({\n    // menuButton: {\n    //     marginRight: theme.spacing(2),\n    // },\n    root: {\n        backgroundColor: theme.palette.primary\n    },\n    title: {\n        flexGrow: 1,\n    },\n    userName: {\n        flexGrow: 1,\n    },\n}));\n\nconst AppHeader = () => {\n    const classes = useStyles();\n    const {currentUser} = useContext(AuthContext);\n\n    return (\n        <AppBar position=\"static\" className={classes.root}>\n            <Toolbar>\n                {/*<IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">*/}\n                {/*    <MenuIcon/>*/}\n                {/*</IconButton>*/}\n                {/*<Typography variant=\"h6\" className={classes.title}>*/}\n                {/*    ONKEL PERS TODO APP*/}\n                {/*</Typography>*/}\n                {!currentUser && <Button color=\"inherit\">Login</Button>}\n                {!!currentUser && <>\n                    <Typography className={classes.userName} variant=\"h6\">{currentUser.email} </Typography>\n                    <Button color=\"inherit\" onClick={() => app.auth().signOut()}>Sign out</Button>\n                    </>\n                }\n            </Toolbar>\n        </AppBar>\n    );\n}\n\nexport default AppHeader;\n","import React, {useState} from 'react';\nimport {Container, Draggable} from 'react-smooth-dnd';\nimport arrayMove from \"array-move\";\n\nconst TestPage = () => {\n\n    const [items, setItems] = useState([\n        {id: \"1\", text: \"Item 1\"},\n        {id: \"2\", text: \"Item 2\"},\n        {id: \"3\", text: \"Item 3\"},\n        {id: \"4\", text: \"Item 4\"}\n    ]);\n\n    const onDrop = ({removedIndex, addedIndex}) => {\n        setItems(items => arrayMove(items, removedIndex, addedIndex));\n    };\n\n    return (\n        <div>\n            <Container onDrop={onDrop}>\n                {items.map(item => {\n                    return (\n                        <Draggable key={item.id}>\n                            <div>{item.text}</div>\n                        </Draggable>\n                    );\n                })}\n            </Container>\n        </div>\n    );\n}\n\nexport default TestPage;","import React from \"react\";\nimport {BrowserRouter as Router, Route} from \"react-router-dom\";\nimport Login from \"./Login\";\nimport {AuthProvider} from \"./Auth\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport MainPage from \"./MainPage\";\nimport AppHeader from \"./AppHeader\";\nimport {createMuiTheme} from '@material-ui/core/styles';\nimport {ThemeProvider} from \"@material-ui/styles\";\nimport TestPage from \"./TestPage\";\n\nconst theme = createMuiTheme({\n    palette: {\n        primary: {\n            main: \"#494D5F\",\n        },\n        secondary: {\n            main: \"#8458B3\",\n        },\n    },\n});\n\nconst App = () => {\n    return (\n        <ThemeProvider theme={theme}>\n            <AuthProvider>\n                <AppHeader/>\n                <Router>\n                    <PrivateRoute exact path=\"/\" component={MainPage}/>\n                    <Route exact path=\"/login\" component={Login}/>\n                    <Route exact path=\"/test\" component={TestPage}/>\n                </Router>\n            </AuthProvider>\n        </ThemeProvider>\n    );\n};\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}