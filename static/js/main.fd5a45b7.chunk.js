(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{131:function(e,t,n){e.exports=n(182)},136:function(e,t,n){},182:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),i=n.n(c),o=(n(136),n(84)),l=n(9),u=n(85),s=n.n(u),m=n(108),d=n(86),f=n.n(d);f.a.initializeApp({apiKey:"AIzaSyBlc-9cBQVLLXdLxYfVpgh8I3iFALoQ7E0",authDomain:"todo-2ac34.firebaseapp.com",databaseURL:"https://todo-2ac34.firebaseio.com",projectId:"todo-2ac34",storageBucket:"todo-2ac34.appspot.com",messagingSenderId:"144767486267",appId:"1:144767486267:web:53c6a77d36c83e42db4f1e"});var p=f.a,E=n(16),g=r.a.createContext(),b=function(e){var t=e.children,n=Object(a.useState)(null),c=Object(E.a)(n,2),i=c[0],o=c[1],l=Object(a.useState)(!0),u=Object(E.a)(l,2),s=u[0],m=u[1];return Object(a.useEffect)((function(){p.auth().onAuthStateChanged((function(e){o(e),m(!1)}))}),[]),s?r.a.createElement(r.a.Fragment,null,"Loading..."):r.a.createElement(g.Provider,{value:{currentUser:i}},t)},h=n(230),v=n(219),O=n(27),j=n.n(O),y=n(218),x=n(217),w=j()((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),k=Object(l.g)((function(e){var t=e.history,n=w(),c=Object(a.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(n){var a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=n.target.elements,r=a.email,c=a.password,e.prev=2,e.next=5,p.auth().signInWithEmailAndPassword(r.value,c.value);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(a.useContext)(g).currentUser?r.a.createElement(l.a,{to:"/"}):r.a.createElement(x.a,{component:"main",maxWidth:"xs"},r.a.createElement(y.a,null),r.a.createElement("div",{className:n.paper},r.a.createElement("form",{className:n.form,noValidate:!0,onSubmit:c},r.a.createElement(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(v.a,{type:"submit",fullWidth:!0,variant:"contained",className:n.submit,color:"primary"},"Sign In"))))})),S=n(120),C=function(e){var t=e.component,n=Object(S.a)(e,["component"]),c=Object(a.useContext)(g).currentUser;return r.a.createElement(l.b,Object.assign({},n,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(l.a,{to:"/login"})}}))},D=n(41),N=(n(172),function(e){return p.firestore().collection("todoLists").doc(e).get().then((function(e){return e.data().tasks}))}),T=function(e,t){return p.firestore().collection("todoLists").doc(e).set({tasks:t}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error updating/creating document: ",e)}))},I=n(223),L=n(187),B=n(222),F=n(233),W=n(89),A=n(112),V=n.n(A),P=n(221),U=n(114),q=n.n(U),R=n(226),K=n(231),z=n(220),G=function(e){var t=e.value,n=e.id,c=e.updateItemTitle,i=Object(a.useState)(t),o=Object(E.a)(i,2),l=o[0],u=o[1],s=Object(a.useState)(!1),m=Object(E.a)(s,2),d=m[0],f=m[1],p=Object(a.useState)(!1),g=Object(E.a)(p,2),b=g[0],v=g[1],O=Object(a.useState)(""),y=Object(E.a)(O,2),x=y[0],w=y[1],k=j()({textView:{width:"80%",cursor:"pointer",display:d?"none":""},inputView:{width:"80%",display:d?"":"none"}})(),S=Object(a.useRef)(null),C=function(){l.length>0?(f(!1),c(l,n),v(!1),w("")):(v(!0),w("Denne kan ikke v\xe6re tom"))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{variant:"body1",className:k.textView,onClick:function(){setTimeout((function(){S.current.focus()}),100),f(!0)}},l),r.a.createElement(h.a,{className:k.inputView,variant:"standard",defaultValue:l,inputRef:S,required:!0,error:b,helperText:x,onKeyDown:function(e){"Enter"===e.key&&C()},onBlur:C,onChange:function(e){u(e.target.value)}}))},J=n(113),M=n.n(J),Q=n(232),H=n(224),X=n(225),Y=j()((function(e){return{root:{margin:e.spacing(1),listStyleType:"none",display:"flex",justifyContent:"center"},card:{width:"800px",minWidth:"300px"},input:{marginLeft:e.spacing(1),marginBottom:e.spacing(1),padding:e.spacing(1),flex:1},inputfield:{}}})),$=function(){var e=Object(a.useState)(""),t=Object(E.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),o=Object(E.a)(i,2),l=o[0],u=o[1],s=Object(a.useState)(!1),m=Object(E.a)(s,2),d=m[0],f=m[1],p=Object(a.useContext)(g).currentUser,b=Object(a.useState)(!0),h=Object(E.a)(b,2),v=h[0],O=h[1],j=Y();Object(a.useEffect)((function(){f(!0),N(p.email).then((function(e){u(e)})).catch((function(e){console.log("Failed to load todo-list",e)})).finally((function(){f(!1)}))}),[p.email]),Object(a.useEffect)((function(){v||(T(p.email,l),O(!0))}),[l,v,p.email]);return r.a.createElement("div",{className:j.root},r.a.createElement("div",{className:j.card},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={itemTitle:n,id:Object(K.a)(),isFavorite:!1,isDone:!1};u([].concat(Object(D.a)(l),[t])),c(""),O(!1)}},r.a.createElement(F.a,{className:j.input,variant:"standard",fullWidth:!0,required:!0,placeholder:"Legg til en oppgave",value:n,onChange:function(e){return c(e.currentTarget.value)}})),r.a.createElement(W.Container,{onDrop:function(e){var t=e.removedIndex,n=e.addedIndex;u((function(e){return V()(e,t,n)})),O(!1)},dragHandleSelector:".drag-handle",lockAxis:"y",dropPlaceholder:{animationDuration:150,showOnTop:!0,className:"cards-drop-preview"}},l&&l.filter((function(e){return!e.isDone})).map((function(e){var t=e.id,n=e.isFavorite,a=e.itemTitle;return r.a.createElement(W.Draggable,{key:t},r.a.createElement(L.a,{style:{height:"3rem"}},r.a.createElement(P.a,null,r.a.createElement(B.a,{onClick:function(e){return function(e,t){t.preventDefault();var n=l.find((function(t){return t.id===e}));n.isDone=!n.isDone,u(Object(D.a)(l)),O(!1)}(t,e)}},r.a.createElement(M.a,null))),r.a.createElement(G,{value:a,id:t,updateItemTitle:function(e,t){return function(e,t){l.find((function(e){return e.id===t})).itemTitle=e,u(Object(D.a)(l)),O(!1)}(e,t)}}),r.a.createElement(I.a,null,r.a.createElement(P.a,null,r.a.createElement(Q.a,{checked:n,icon:r.a.createElement(H.a,null),checkedIcon:r.a.createElement(X.a,null),onClick:function(e){return function(e,t){t.preventDefault();var n=l.find((function(t){return t.id===e}));n.isFavorite=!n.isFavorite,u(Object(D.a)(l)),O(!1)}(t,e)},name:"checked"})),r.a.createElement(P.a,{style:{minWidth:"0"},className:"drag-handle"},r.a.createElement(q.a,null)))),r.a.createElement(R.a,null))}))),d&&r.a.createElement("pre",null,"fetching data ...")))},Z=n(227),_=n(228),ee=n(115),te=n.n(ee),ne=n(229),ae=n(119),re=j()((function(e){return{root:{backgroundColor:e.palette.primary},title:{flexGrow:1},userName:{flexGrow:1}}})),ce=function(){Object(l.f)();var e=re(),t=Object(a.useContext)(g).currentUser,n=r.a.useState(null),c=Object(E.a)(n,2),i=c[0],o=c[1];return r.a.createElement(Z.a,{position:"static",className:e.root},r.a.createElement(_.a,null,r.a.createElement(z.a,{variant:"h6",className:e.title},"ONKEL PERS TODOAPP"),!t&&r.a.createElement(v.a,{color:"inherit"},"Login"),!!t&&r.a.createElement(B.a,{className:e.menuButton,color:"inherit","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)}},r.a.createElement(te.a,null)),r.a.createElement(ae.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){o(null)}},r.a.createElement("div",{style:{padding:"8px"}},r.a.createElement(z.a,{variant:"h6"},"Signed in as: ",t.email," ")),r.a.createElement(ne.a,{onClick:function(){return p.auth().signOut()}},"Log out"))))},ie=n(118),oe=n(216),le=n(117),ue=n.n(le),se=n(116),me=n.n(se),de=j()((function(e){return{root:{margin:e.spacing(1),listStyleType:"none",display:"flex",justifyContent:"center"},card:{width:"800px",minWidth:"300px"},input:{marginLeft:e.spacing(1),marginBottom:e.spacing(1),padding:e.spacing(1),flex:1},inputfield:{}}})),fe=function(){var e=Object(a.useState)([]),t=Object(E.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),o=Object(E.a)(i,2),l=o[0],u=o[1],s=Object(a.useContext)(g).currentUser,m=Object(a.useState)(!0),d=Object(E.a)(m,2),f=d[0],p=d[1],b=de();Object(a.useEffect)((function(){u(!0),N(s.email).then((function(e){c(e)})).catch((function(e){console.log("Failed to load todo-list",e)})).finally((function(){u(!1)}))}),[s.email]),Object(a.useEffect)((function(){f||(T(s.email,n),p(!0))}),[n,f,s.email]);return r.a.createElement("div",{className:b.root},r.a.createElement("div",{className:b.card},n&&n.filter((function(e){return e.isDone})).map((function(e){var t=e.id,a=e.itemTitle;return r.a.createElement(L.a,{key:t,style:{height:"3rem",backgroundColor:"grey"}},r.a.createElement(P.a,null,r.a.createElement(B.a,{onClick:function(e){return function(e,t){t.preventDefault();var a=n.find((function(t){return t.id===e}));a.isDone=!a.isDone,c(Object(D.a)(n)),p(!1)}(t,e)}},r.a.createElement(me.a,null))),r.a.createElement(z.a,{variant:"body1",style:{textDecoration:"line-through"}},a),r.a.createElement(I.a,null,r.a.createElement(P.a,null,r.a.createElement(B.a,{onClick:function(e){return function(e,t){t.preventDefault(),n.splice(n.findIndex((function(t){return t.id===e})),1),c(Object(D.a)(n)),p(!1)}(t,e)}},r.a.createElement(ue.a,null)))))})),l&&r.a.createElement("pre",null,"fetching data ...")))},pe=Object(ie.a)({palette:{primary:{main:"#494D5F"},secondary:{main:"#8458B3"}}}),Ee=function(){return r.a.createElement(oe.a,{theme:pe},r.a.createElement(b,null,r.a.createElement(ce,null),r.a.createElement(o.a,null,r.a.createElement(C,{exact:!0,path:"/",component:$}),r.a.createElement(l.b,{exact:!0,path:"/done",component:fe}),r.a.createElement(l.b,{exact:!0,path:"/login",component:k}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[131,1,2]]]);
//# sourceMappingURL=main.fd5a45b7.chunk.js.map